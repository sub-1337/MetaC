
### Выброс ошибки/исключения
```
fn func()
{
	if (int(input()) > 10)
		throw (type::ex::overflow, "more than 10");
	else
		return "less than 10";
}
```
Мы запрашиваем ввод. Если введено число больше 10 то
выбрасывается исключение `type::ex::overflow` и к нему
прикрепляется результат функции `"more than 10"`
Иначе мы возвращаемся из функции штатно и возвращаем
`"less than 10"`

### Возврат ошибки как в С
```
fn nodiscard func()
{
	// ...
	return type::ex::overflow;
}
```
В данном случае мы возвращаем ошибку через значение функции.
Мы можем поймать такую ошибку как и через оператор `throw`
Спецификатор nodiscard говорит, что мы не можем проигнорировать
возвращаемое значение.
### Однострочный синтаксис
```
let a : type::res = try func();
match(a.ex)
{
	ex::ok => { print("Ok"); print(a.res); }
	ex::overflow => { print("Overflow"); }
	ex::default => { throw; }
}

```
Мы пробуем вызвать функцию `func` и получаем в 
объект типа `type::res`.
У этого объекта есть 2 поля - `res` и `ex`.
Поле  `res`  хранит то, что вернула функция,
а поле `ex` исключение или код ошибки.
Если мы дошли до `ex::default` мы не отловили никаким
из предыдущих пунктов ошибки. Мы можем переслать 
исключение дальше.

### Многострочный синтаксис
```
let a : type::res = try{
	let a : int = 10;
	let b = func(a);
}
match(a.ex)
{
	ex::ok => { print("Ok"); }
	ex::default => { print(
					f"Except: {res.ex.what} Line: {res.ex.line}"
					); }
	ex::finally => { /* do smth */ }
}
```
Мы вызываем блок кода, далее мы сохраняем первое встречное 
исключение. Далее мы проверяем - что мы получили,
или `ex::ok` вывод по умолчанию, если мы не встретили никаких
ошибок.
Если мы отловили какую-то ошибку - мы напечатаем имя исключения
и строку где она произошла.
Самым последним исполнится блок `ex::finally`
Заход в этот блок выполняется всегда после работы кода до него,
даже если мы вернулись return.

### Ужатый синтаксис
```
match((try func()).ex)
{
	ex::ok => print(f"ok {@.res}"); // @ обозначает анонимный
									// объект в скобках конструкции
	ex::default => print("not ok");
}
```